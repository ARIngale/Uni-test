
# UNIBAZAR ‚Äì Amazon SP API Integration

**UNIBAZAR** is a MERN stack application that allows users to register with email-based OTP verification, connect their Amazon Seller accounts using the Selling Partner (SP) API via OAuth, and view their total order count.

---

## üöÄ Features

- ‚úÖ User registration with email OTP verification  
- üîê Secure authentication using JWT  
- üõí Amazon SP API OAuth integration  
- üì¶ Fetch and display total Amazon order count  
- üíª Responsive UI built with React + Tailwind CSS  

---

## üìÅ Project Structure

```
project-root/
‚îú‚îÄ‚îÄ frontend/                # React frontend
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/      
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ context/         
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/           
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx          
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.tsx        
‚îÇ   ‚îú‚îÄ‚îÄ package.json         
‚îÇ   ‚îî‚îÄ‚îÄ tailwind.config.js   
‚îÇ
‚îú‚îÄ‚îÄ backend/                 # Express backend
‚îÇ   ‚îú‚îÄ‚îÄ middleware/          
‚îÇ   ‚îú‚îÄ‚îÄ models/              
‚îÇ   ‚îú‚îÄ‚îÄ routes/              
‚îÇ   ‚îú‚îÄ‚îÄ services/            
‚îÇ   ‚îú‚îÄ‚îÄ utils/               
‚îÇ   ‚îú‚îÄ‚îÄ server.js            
‚îÇ   ‚îî‚îÄ‚îÄ package.json         
‚îÇ
‚îî‚îÄ‚îÄ README.md                # Documentation
```

---

## ‚öôÔ∏è Prerequisites

- Node.js (v14 or above)
- MongoDB (local or cloud)
- Amazon Seller Central account
- Amazon SP API credentials (Client ID & Secret)

---

## üß≠ Setup Instructions (for ZIP usage)

> ‚ö†Ô∏è **Note**: After extracting the ZIP file, follow these steps for backend and frontend setup.

---

### üì¶ 1. Backend Setup

```bash
cd backend

# Install dependencies
npm install

# Copy environment variables file
cp .env.example .env
```

Edit the `.env` file with your own configuration:

```env
PORT=5000
FRONTEND_URL=http://localhost:3000

# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/unibazar

# JWT Configuration
JWT_SECRET=your_jwt_secret_key

# Email Configuration (for OTP)
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_email_app_password

# Amazon SP API Configuration
AMAZON_CLIENT_ID=your_amazon_client_id
AMAZON_CLIENT_SECRET=your_amazon_client_secret
AMAZON_REDIRECT_URI=http://localhost:5000/amazon/callback
AMAZON_REGION=na
AMAZON_SANDBOX=true
```

Start the backend server:

```bash
npm run dev
```

---

### üíª 2. Frontend Setup

```bash
cd frontend

# Install dependencies
npm install

# Create frontend config.ts file
echo "API_URL=http://localhost:5000" 

# Start the development server
npm start
```

---

## üßæ Amazon SP API Registration Guide

1. Go to the [Amazon Developer Portal](https://developer.amazonservices.com/)
2. Sign in with your Amazon Seller account
3. Register as a developer
4. Create an application and note the Client ID and Secret
5. Set the OAuth Redirect URI:  
   `http://localhost:5000/amazon/callback`
6. Assign required API scopes (at minimum: **Orders**)

---

## üåç Environment Variables

### Backend

| Variable              | Description                                 |
|-----------------------|---------------------------------------------|
| `PORT`                | Port for backend server                     |
| `FRONTEND_URL`        | URL of frontend app                         |
| `MONGODB_URI`         | MongoDB connection string                   |
| `JWT_SECRET`          | Secret key for JWT tokens                   |
| `EMAIL_USER`          | Email to send OTPs                          |
| `EMAIL_PASSWORD`      | Email app password                          |
| `AMAZON_CLIENT_ID`    | Amazon SP API client ID                     |
| `AMAZON_CLIENT_SECRET`| Amazon SP API client secret                 |
| `AMAZON_REDIRECT_URI` | Amazon OAuth redirect URI                   |
| `AMAZON_REGION`       | Amazon SP API region (`na`, `eu`, `fe`)     |
| `AMAZON_SANDBOX`      | Enable sandbox mode (true/false)            |

### Frontend

| Variable              | Description                         |
|-----------------------|-------------------------------------|
| `REACT_APP_API_URL`   | URL of the backend server           |

---

## üì° API Endpoints

### üîê Authentication

- `POST /api/auth/signup` ‚Äì Register user  
- `POST /api/auth/verify-otp` ‚Äì Verify OTP  
- `POST /api/auth/resend-otp` ‚Äì Resend OTP  
- `POST /api/auth/login` ‚Äì Login  

### üõí Amazon SP API

- `GET /api/amazon/auth-url` ‚Äì Get Amazon OAuth URL  
- `POST /api/amazon/callback` ‚Äì Handle Amazon callback  
- `GET /api/amazon/status` ‚Äì Check if user is connected  
- `GET /api/amazon/orders` ‚Äì Get total order count  

---